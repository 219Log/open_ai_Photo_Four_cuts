# 프론트엔드 UI/UX 사양 (Next.js)

## 라우트 구조
- `/` 홈: 버튼 2개 — 카메라, 프린트
- `/camera` 스튜디오: 카메라/업로드, 4컷 슬롯 관리, 프리셋/프롬프트, AI 변환, 인쇄 이동
- `/print` 인쇄: 4컷 세로 스트립 미리보기, 인쇄 호출

## 홈
- 버튼: "카메라", "프린트"

## 카메라 화면 요소
- 라이브 프리뷰: `MediaDevices.getUserMedia({ video: { facingMode: 'environment' } })`
- 버튼: 촬영, 전/후면 전환, 업로드(파일 선택), 뒤로가기(홈)
- 4컷 슬롯(1,2,3,4):
  - 슬롯 선택 후 촬영/업로드 시 해당 슬롯 이미지가 교체
  - 빈 슬롯은 플레이스홀더 표시
- 디자인 프리셋 버튼: 만화주인공, 사이버, 픽셀, 초상화
- 프롬프트 입력바: 프리셋 클릭 시 자동 채움 또는 직접 입력 가능
- AI 변환 버튼: 현재 1~4 슬롯의 원본 이미지를 프롬프트로 변환 요청
- 변환 결과 미리보기: 슬롯별 결과(1~4)
- 프린트로 이동: `/print`로 라우팅

### 카메라 미리보기(비율/레터박스)
- 프레임은 정사각형(1:1)을 유지합니다.
- 내부에 3:4 영역을 중앙 배치하여 좌우 검은 레터박스가 생기도록 표시합니다.
- `video`는 내부 3:4 영역을 `object-fit: cover`로 채웁니다.

### 프리셋(버튼) 선택 UX
- 기본값: 첫 로드 시 `만화` 프리셋이 자동 활성화됩니다.
- 프리셋을 누르면 해당 버튼이 강조(굵은 테두리/배경)되어 현재 선택 상태를 시각적으로 표시합니다.
- 접근성: `aria-pressed`로 활성 상태를 반영합니다.
- 사용자가 프롬프트를 직접 수정하면 프리셋 활성 상태는 해제됩니다.

### 프롬프트 입력창
- 기본적으로 화면에서 숨김 처리(`display: none`), 기능은 활성 상태 유지.
- 프리셋 선택 시 내부 프롬프트 값만 갱신됩니다.

### 변환 버튼 비활성화 조건
- 다음 중 하나라도 해당되면 비활성화됩니다.
  - 변환 전 4개의 슬롯이 모두 채워지지 않음
  - 변환 작업이 슬롯별로 진행 중(`처리중...`)
  
버튼 상태는 반투명/`not-allowed` 커서로 피드백하며, 툴팁으로 "4컷을 모두 채워주세요" 안내를 표시합니다.

## 상태 관리
- 전역 상태 (예: React Context/Zustand/Recoil) 또는 페이지 로컬 상태 + `localStorage`
- 보존 항목: 원본 이미지(1~4), 변환 결과(1~4), 프롬프트, 프리셋 선택
- 네비게이션/새로고침에도 상태 유지하도록 `localStorage` 동기화

## 업로드/촬영 흐름
1) 슬롯 선택(기본 1번)
2) 촬영 또는 파일 업로드
3) 선택 슬롯 이미지 갱신
4) 필요 시 다른 슬롯 선택 후 반복

## AI 변환 흐름
1) 프롬프트 확정 (프리셋 또는 수동 입력)
2) 슬롯별 원본 이미지 유무 확인(없으면 스킵/경고)
3) 백엔드 `/api/generate`에 프롬프트와 이미지(들)를 전송
4) 응답 받은 변환 이미지를 해당 슬롯에 반영, `localStorage`에 저장

## 오류/UX 고려
- 카메라 권한 거부 시 업로드 위주 플로우 안내
- 잘못된 파일 형식/크기 제한 안내
- API 오류 시 재시도 버튼, 사용자 친화적 메시지
- 진행 중 로딩 인디케이터(슬롯별 스피너)

## 인쇄 화면(`/print`)
- 세로 스트립 레이아웃으로 4컷 미리보기
- 버튼: 인쇄, 다시하기(카메라로), 홈
- `window.print()` 호출 + `@media print` CSS로 여백/사이즈 제어
